import requests
import base64

cert = '''-----BEGIN CERTIFICATE-----
MIIF0zCCBLugAwIBAgIRAMglaJ7Z0l19Ssmje8qJdYUwDQYJKoZIhvcNAQELBQAwgYMxCzAJBgNV
BAYTAkdCMRswGQYDVQQIExJHcmVhdGVyIE1hbmNoZXN0ZXIxEDAOBgNVBAcTB1NhbGZvcmQxGjAY
BgNVBAoTEUNPTU9ETyBDQSBMaW1pdGVkMSkwJwYDVQQDEyBUZXN0IFJTQSBDZXJ0aWZpY2F0aW9u
IEF1dGhvcml0eTAeFw0yMDA2MDMwMDAwMDBaFw0yMTA2MDMyMzU5NTlaMIHXMQswCQYDVQQGEwJV
UzEOMAwGA1UEERMFOTUwNTQxEzARBgNVBAgTCkNhbGlmb3JuaWExFDASBgNVBAcTC1NhbnRhIENs
YXJhMRMwEQYDVQQJEwpTdWl0ZSAxMjUwMSIwIAYDVQQJExkyNTMwIE1pc3Npb24gQ29sbGVnZSBC
bHZkMRowGAYDVQQKExFUcmlhbnogQ29uc3VsdGluZzEeMBwGA1UECxMVVHJpYW56IENsb3VkIFNl
cnZpY2VzMRgwFgYDVQQDEw90cmlhbnpjbG91ZC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
ggEKAoIBAQCy3m17TplAx25Pgc97ZlVWwbGA8b9wJMU5zhGAKoRA6EvoTGO3iFV6ocAsbCZIG3SF
vB0W1bt9IkOgAshwOqqCiQWNiySEaWMs9WaZv3VM+an9uqf0iCp7IKAFTC9OdKFdewK6/g+DcC/F
vqRF0SOJtQ8GA08ePjKNNU/e+pyEUdCa6tphHv+UMa6ObmFPOm2CBg92+Trl6bAqmQdy8Af23n0g
MwS/8zE9XRe/BZ6khQzxpOMct3jLUhGH+8E9fvVATAI8OqJ4YkvUvTgDowuVXBEq0XCpKQLnCQNR
nOMiJbN5XjSJ/r8OuK/2yPvJhEwFZPIarPt38UU31gqRl4DNAgMBAAGjggHqMIIB5jAfBgNVHSME
GDAWgBSGhh3LBiV9JwFXa+VqONDkRK+TMjAdBgNVHQ4EFgQU8GEwjOcR83Qd6RRwfjPE61zpmsAw
DgYDVR0PAQH/BAQDAgWgMAwGA1UdEwEB/wQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUF
BwMCMEAGA1UdIAQ5MDcwNQYMKwYBBAGyMQECAQMEMCUwIwYIKwYBBQUHAgEWF2h0dHBzOi8vc2Vj
dGlnby5jb20vQ1BTMEoGA1UdHwRDMEEwP6A9oDuGOWh0dHA6Ly9jcmwuY29tb2RvY2EuY29tL1Rl
c3RSU0FDZXJ0aWZpY2F0aW9uQXV0aG9yaXR5LmNybDB7BggrBgEFBQcBAQRvMG0wRQYIKwYBBQUH
MAKGOWh0dHA6Ly9jcnQuY29tb2RvY2EuY29tL1Rlc3RSU0FDZXJ0aWZpY2F0aW9uQXV0aG9yaXR5
LmNydDAkBggrBgEFBQcwAYYYaHR0cDovL29jc3AuY29tb2RvY2EuY29tMFwGA1UdEQRVMFOCD3Ry
aWFuemNsb3VkLmNvbYIUYXBwMS50cmlhbnpjbG91ZC5jb22CFGFwcDIudHJpYW56Y2xvdWQuY29t
ghRhcHAzLnRyaWFuemNsb3VkLmNvbTANBgkqhkiG9w0BAQsFAAOCAQEATDfyeLxQRD1i+Gj9zfrN
sj14J2lRjS9hkF/1S1WVH/RxvjAtMNIJxXu8OgpaSDct82PEpltZdjg41QGfK3MYHG0TZ9rlGaD/
ZvxVCM+SYHsfqesLRkf744DVRcfa19XlRt5N9eMoXwE2ofUhjsz5WlRpGszN8/0ZWhLbPK84CR4C
bdWu7jkMcFnC6cQnzp1QTpx8ws1F3klvxJ8BHxTj4iyT0Gu7r9kLv+joKuKwDt/Rqk/LnPH5V+sb
f03A/J3PAWvBAyUtohtoH4Xwi0NI3FnPJF/xsTjNG8NcVASbb/VNB0bAvFKNo5Sjm9W5/Q5N2zfJ
QuS66tlGqHqjHDEfdg==
-----END CERTIFICATE-----'''

message_bytes = cert.encode('ascii')
base64_cert = base64.b64encode(message_bytes)
encodedCert = str(base64_cert,'utf-8')

print(cert)
print("---------------")
print(encodedCert)

url = "http://3.211.68.242:8001/api/v1/namespaces/default/secrets"
# payload = '{ "apiVersion": "v1", "kind": "Secret", "metadata": { "name": "sectigo-secret-123", "namespace": "default" }, "type": "Opaque" }'
#payload = '{ "kind": "Secret", "apiVersion": "v1", "metadata": { "name": "sectigo-secret-123", "namespace": "default" }, "data": { "tls.crt": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUYwekNDQkx1Z0F3SUJBZ0lSQU1nbGFKN1owbDE5U3NtamU4cUpkWVV3RFFZSktvWklodmNOQVFFTEJRQXdnWU14Q3pBSkJnTlYKQkFZVEFrZENNUnN3R1FZRFZRUUlFeEpIY21WaGRHVnlJRTFoYm1Ob1pYTjBaWEl4RURBT0JnTlZCQWNUQjFOaGJHWnZjbVF4R2pBWQpCZ05WQkFvVEVVTlBUVTlFVHlCRFFTQk1hVzFwZEdWa01Ta3dKd1lEVlFRREV5QlVaWE4wSUZKVFFTQkRaWEowYVdacFkyRjBhVzl1CklFRjFkR2h2Y21sMGVUQWVGdzB5TURBMk1ETXdNREF3TURCYUZ3MHlNVEEyTURNeU16VTVOVGxhTUlIWE1Rc3dDUVlEVlFRR0V3SlYKVXpFT01Bd0dBMVVFRVJNRk9UVXdOVFF4RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZEQVNCZ05WQkFjVEMxTmhiblJoSUVOcwpZWEpoTVJNd0VRWURWUVFKRXdwVGRXbDBaU0F4TWpVd01TSXdJQVlEVlFRSkV4a3lOVE13SUUxcGMzTnBiMjRnUTI5c2JHVm5aU0JDCmJIWmtNUm93R0FZRFZRUUtFeEZVY21saGJub2dRMjl1YzNWc2RHbHVaekVlTUJ3R0ExVUVDeE1WVkhKcFlXNTZJRU5zYjNWa0lGTmwKY25acFkyVnpNUmd3RmdZRFZRUURFdzkwY21saGJucGpiRzkxWkM1amIyMHdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBdwpnZ0VLQW9JQkFRQ3kzbTE3VHBsQXgyNVBnYzk3WmxWV3diR0E4Yjl3Sk1VNXpoR0FLb1JBNkV2b1RHTzNpRlY2b2NBc2JDWklHM1NGCnZCMFcxYnQ5SWtPZ0FzaHdPcXFDaVFXTml5U0VhV01zOVdhWnYzVk0rYW45dXFmMGlDcDdJS0FGVEM5T2RLRmRld0s2L2crRGNDL0YKdnFSRjBTT0p0UThHQTA4ZVBqS05OVS9lK3B5RVVkQ2E2dHBoSHYrVU1hNk9ibUZQT20yQ0JnOTIrVHJsNmJBcW1RZHk4QWYyM24wZwpNd1MvOHpFOVhSZS9CWjZraFF6eHBPTWN0M2pMVWhHSCs4RTlmdlZBVEFJOE9xSjRZa3ZVdlRnRG93dVZYQkVxMFhDcEtRTG5DUU5SCm5PTWlKYk41WGpTSi9yOE91Sy8yeVB2SmhFd0ZaUElhclB0MzhVVTMxZ3FSbDRETkFnTUJBQUdqZ2dIcU1JSUI1akFmQmdOVkhTTUUKR0RBV2dCU0doaDNMQmlWOUp3RlhhK1ZxT05Ea1JLK1RNakFkQmdOVkhRNEVGZ1FVOEdFd2pPY1I4M1FkNlJSd2ZqUEU2MXpwbXNBdwpEZ1lEVlIwUEFRSC9CQVFEQWdXZ01Bd0dBMVVkRXdFQi93UUNNQUF3SFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGCkJ3TUNNRUFHQTFVZElBUTVNRGN3TlFZTUt3WUJCQUd5TVFFQ0FRTUVNQ1V3SXdZSUt3WUJCUVVIQWdFV0YyaDBkSEJ6T2k4dmMyVmoKZEdsbmJ5NWpiMjB2UTFCVE1Fb0dBMVVkSHdSRE1FRXdQNkE5b0R1R09XaDBkSEE2THk5amNtd3VZMjl0YjJSdlkyRXVZMjl0TDFSbApjM1JTVTBGRFpYSjBhV1pwWTJGMGFXOXVRWFYwYUc5eWFYUjVMbU55YkRCN0JnZ3JCZ0VGQlFjQkFRUnZNRzB3UlFZSUt3WUJCUVVICk1BS0dPV2gwZEhBNkx5OWpjblF1WTI5dGIyUnZZMkV1WTI5dEwxUmxjM1JTVTBGRFpYSjBhV1pwWTJGMGFXOXVRWFYwYUc5eWFYUjUKTG1OeWREQWtCZ2dyQmdFRkJRY3dBWVlZYUhSMGNEb3ZMMjlqYzNBdVkyOXRiMlJ2WTJFdVkyOXRNRndHQTFVZEVRUlZNRk9DRDNSeQphV0Z1ZW1Oc2IzVmtMbU52YllJVVlYQndNUzUwY21saGJucGpiRzkxWkM1amIyMkNGR0Z3Y0RJdWRISnBZVzU2WTJ4dmRXUXVZMjl0CmdoUmhjSEF6TG5SeWFXRnVlbU5zYjNWa0xtTnZiVEFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBVERmeWVMeFFSRDFpK0dqOXpmck4Kc2oxNEoybFJqUzloa0YvMVMxV1ZIL1J4dmpBdE1OSUp4WHU4T2dwYVNEY3Q4MlBFcGx0WmRqZzQxUUdmSzNNWUhHMFRaOXJsR2FELwpadnhWQ00rU1lIc2ZxZXNMUmtmNzQ0RFZSY2ZhMTlYbFJ0NU45ZU1vWHdFMm9mVWhqc3o1V2xScEdzek44LzBaV2hMYlBLODRDUjRDCmJkV3U3amtNY0ZuQzZjUW56cDFRVHB4OHdzMUYza2x2eEo4Qkh4VGo0aXlUMEd1N3I5a0x2K2pvS3VLd0R0L1Jxay9MblBINVYrc2IKZjAzQS9KM1BBV3ZCQXlVdG9odG9INFh3aTBOSTNGblBKRi94c1RqTkc4TmNWQVNiYi9WTkIwYkF2RktObzVTam05VzUvUTVOMnpmSgpRdVM2NnRsR3FIcWpIREVmZGc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0t" }, "type": "Opaque" }'
payload = "{ \"kind\": \"Secret\", \"apiVersion\": \"v1\", \"metadata\": { \"name\": \"sectigo-secret\", \"namespace\": \"default\" }, \"data\": { \"tls.crt\": \""+encodedCert+"\" }, \"type\": \"Opaque\" }"
headers = {
  'Accept': 'application/json',
  'Content-Type': 'application/json'
  }
response = requests.request("POST", url, headers=headers, data = payload)
print(response.text.encode('utf8'))
